(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(23),s=c.n(a),i=(c(73),c(74),c(21)),j=c.n(i),o=c(30),l=c(15),d=c(43),b=c(106),u=c(111),O=c(110),x=c(107),h=c(60),f=c(7),m=function(){return Object(f.jsx)("footer",{children:Object(f.jsx)(b.a,{children:Object(f.jsx)(x.a,{children:Object(f.jsx)(h.a,{className:"text-center py-3",children:"Footer"})})})})},p=c(109),g=function(){return Object(f.jsx)("header",{children:Object(f.jsx)(b.a,{fluid:"md",children:Object(f.jsx)(p.a,{bg:"light",expand:"lg",children:Object(f.jsx)(p.a.Brand,{href:"/",children:Object(f.jsx)("h3",{children:"STL Viewer"})})})})})},v=c(113),y=c(38),M=c.n(y),w=function(e){var t=e.loadingModel,c=e.getIdModel,r=e.uploadModel,a=Object(n.useState)([]),s=Object(l.a)(a,2),i=s[0],d=s[1];return Object(n.useEffect)((function(){(function(){var e=Object(o.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("/api/models");case 2:t=e.sent,c=t.data,d(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(f.jsxs)(b.a,{children:[Object(f.jsxs)(x.a,{children:[Object(f.jsx)(h.a,{children:Object(f.jsx)("p",{children:"My uploaded STL Files:"})}),Object(f.jsx)(h.a,{className:"text-right",children:Object(f.jsx)(v.a,{variant:"primary",size:"sm",onClick:function(){return r(!0,0)},children:"View 3D Model From Local Drive"})})]}),Object(f.jsx)(x.a,{children:i.map((function(e){return Object(f.jsx)(h.a,{sm:12,md:6,lg:4,xl:3,children:Object(f.jsx)(u.a,{className:"my-3 p-3 rounded",children:Object(f.jsx)(v.a,{variant:"secondary",size:"sm",onClick:function(){t(!0,420),c(e._id)},children:e.name})})},e._id)}))})]})},S=function(e){var t=e.loadingModel,c=e.modelName,n=e.url;return Object(f.jsx)(u.a,{children:Object(f.jsx)(u.a.Header,{children:Object(f.jsxs)(x.a,{children:[Object(f.jsx)(h.a,{children:Object(f.jsx)(v.a,{variant:"secondary",size:"sm",onClick:function(){t(!1,0)},children:"Go Back"})}),Object(f.jsx)(h.a,{xs:5,className:"text-center",children:Object(f.jsx)("h5",{children:c})}),Object(f.jsx)(h.a,{className:"text-right",children:Object(f.jsx)(v.a,{variant:"primary",size:"sm",children:Object(f.jsx)(d.b,{to:n,target:"_blank",style:{color:"white"},children:"Download"})})})]})})})},k=function(e){var t=e.uploadModel,c=e.getIdModel;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(x.a,{style:{marginBottom:"20px"},children:[Object(f.jsx)(h.a,{children:Object(f.jsx)(v.a,{variant:"secondary",size:"sm",onClick:function(){t(!1,0),c(0)},children:"Go Back"})}),Object(f.jsx)(h.a,{xs:"auto",children:Object(f.jsx)("h5",{children:"View Local STL File"})})]})})},L=c(18),F=c(108),B=c(112),C=c(5),N=c(68),z=c(67);Object(L.b)({OrbitControls:z.a});var E=function(){var e=Object(L.e)(),t=e.camera,c=e.gl.domElement;t.up.set(0,0,1);var r=Object(n.useRef)();return Object(L.c)((function(e){return r.current.update()})),Object(f.jsx)("orbitControls",{ref:r,args:[t,c],enablePan:!1})},I=function(e){var t=e.url,c=new C.MeshPhongMaterial({vertexColors:!0,shininess:10}),r=Object(n.useMemo)((function(){return function(e){var t=Object(L.d)(N.a,e);return t.center(),t}(t)}),[t]),a=Object(n.useRef)(),s=Object(L.e)().camera;return Object(n.useEffect)((function(){var e=(new C.Box3).setFromObject(a.current).getBoundingSphere(new C.Sphere),t=e.center,c=e.radius;s.position.copy(t.clone().add(new C.Vector3(2*c,0,0))),s.far=500*c,s.updateProjectionMatrix()}),[s,t]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(E,{}),Object(f.jsx)("primitive",{object:new C.AxesHelper(15)}),Object(f.jsxs)("mesh",{ref:a,dispose:null,children:[Object(f.jsx)("primitive",{object:r,attach:"geometry"}),Object(f.jsx)("meshPhongMaterial",{color:14709773,material:c})]})]})};function P(){var e=Object(F.a)().progress;return Object(f.jsxs)(B.a,{center:!0,children:[e," % loaded"]})}var R=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(l.a)(a,2),i=s[0],x=s[1],h=Object(n.useState)(0),p=Object(l.a)(h,2),v=p[0],y=p[1],F=Object(n.useState)(0),B=Object(l.a)(F,2),C=B[0],N=B[1],z=Object(n.useState)(""),E=Object(l.a)(z,2),R=E[0],U=E[1],V=Object(n.useState)(""),D=Object(l.a)(V,2),G=D[0],H=D[1];Object(n.useEffect)((function(){v>0&&function(){var e=Object(o.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("/api/models/".concat(v));case 2:t=e.sent,c=t.data,U(c.name),H(c.url);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[v]);var T=function(e,t){r(e),N(t)},_=function(e){y(e)},J=function(e,t){x(e),N(t)};return Object(f.jsxs)(d.a,{children:[Object(f.jsx)(g,{}),Object(f.jsx)("main",{className:"py-3",children:Object(f.jsxs)(b.a,{children:[!i&&!c&&Object(f.jsx)(w,{loadingModel:T,getIdModel:_,uploadModel:J}),c&&Object(f.jsx)(S,{loadingModel:T,modelName:R,url:G}),i&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(u.a.Header,{children:[Object(f.jsx)(k,{uploadModel:J,getUrlUpload:function(e,t){H(e),N(t)},getIdModel:_}),Object(f.jsx)(O.a.Group,{children:Object(f.jsx)(O.a.File,{accept:".stl",type:"file",onChange:function(e){var t;""!==(t=e).target.files[0]&&H(URL.createObjectURL(t.target.files[0])),N(320)}})})]})}),Object(f.jsx)(u.a,{style:{height:C},children:Object(f.jsx)(u.a.Body,{children:Object(f.jsxs)(L.a,{children:[Object(f.jsx)("ambientLight",{intensity:.2}),Object(f.jsx)("directionalLight",{intensity:.6,position:[0,30,30],color:"white"}),Object(f.jsx)("directionalLight",{intensity:.6,position:[0,-30,-30],color:"white"}),Object(f.jsx)(n.Suspense,{fallback:Object(f.jsx)(P,{}),children:Object(f.jsx)(I,{url:G})})]})})})]})}),Object(f.jsx)(m,{})]})};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root"))},73:function(e,t,c){},74:function(e,t,c){}},[[103,1,2]]]);
//# sourceMappingURL=main.edf7c1e9.chunk.js.map