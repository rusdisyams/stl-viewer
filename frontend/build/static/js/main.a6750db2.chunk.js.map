{"version":3,"sources":["components/Footer.js","components/Header.js","components/Model.js","screens/HomeScreen.js","components/STL.js","components/Viewer.js","screens/ModelScreen.js","screens/UploadScreen.js","App.js","index.js"],"names":["Footer","Container","Row","Col","className","Header","fluid","Navbar","bg","expand","Brand","href","Model","model","Card","to","_id","Button","variant","size","name","HomeScreen","useState","models","setModels","useEffect","a","axios","get","data","fetchModels","map","sm","md","lg","xl","STL","url","material","THREE","vertexColors","shininess","useMemo","useLoader","STLLoader","StlLoader","center","ref","useRef","camera","useThree","sphere","setFromObject","current","getBoundingSphere","radius","position","copy","clone","add","far","updateProjectionMatrix","object","dispose","attach","color","extend","OrbitControls","CameraControls","domElement","gl","up","set","controls","useFrame","state","update","args","enablePan","Viewer","urlModel","intensity","fallback","ModelScreen","setModel","id","useParams","fetchModel","xs","Body","style","height","UploadScreen","source","setSource","isFile","setIsFile","disable","setDisable","setName","Form","Group","File","accept","onChange","event","target","files","URL","createObjectURL","InputGroup","Prepend","Text","FormControl","aria-label","aria-describedby","block","App","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6750db2.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <Container>\r\n        <Row>\r\n          <Col className='text-center py-3'>Footer</Col>\r\n        </Row>\r\n      </Container>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\nimport { Navbar, Container } from 'react-bootstrap'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header>\r\n      <Container fluid='md'>\r\n        <Navbar bg='light' expand='lg'>\r\n          <Navbar.Brand href='/'>\r\n            <h3>STL Viewer</h3>\r\n          </Navbar.Brand>\r\n        </Navbar>\r\n      </Container>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Card, Button } from 'react-bootstrap'\r\n\r\nconst Model = ({ model }) => {\r\n  return (\r\n    <Card className='my-3 p-3 rounded'>\r\n      <Link to={`/model/${model._id}`}>\r\n        <Button variant='secondary' size='sm'>\r\n          {model.name}\r\n        </Button>\r\n      </Link>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Model\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Row, Col, Container, Button } from 'react-bootstrap'\r\nimport Model from '../components/Model'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nconst HomeScreen = () => {\r\n  const [models, setModels] = useState([])\r\n\r\n  useEffect(() => {\r\n    const fetchModels = async () => {\r\n      const { data } = await axios.get('/api/models')\r\n      setModels(data)\r\n    }\r\n    fetchModels()\r\n  }, [])\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col>\r\n          <p>My uploaded STL Files:</p>\r\n        </Col>\r\n        <Col className='text-right'>\r\n          <Link to={'/upload'}>\r\n            <Button variant='primary' size='sm'>\r\n              Upload File\r\n            </Button>\r\n          </Link>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        {models.map((model) => (\r\n          <Col key={model._id} sm={12} md={6} lg={4} xl={3}>\r\n            <Model model={model} />\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default HomeScreen\r\n","import React, { useRef, useEffect, useMemo } from 'react'\r\nimport * as THREE from 'three'\r\n//import { BoxHelper } from 'three'\r\n//import { VertexNormalsHelper } from 'three-stdlib'\r\n// import { useLoader, useThree, useFrame, extend } from '@react-three/fiber'\r\nimport { useLoader, useThree } from '@react-three/fiber'\r\nimport { STLLoader } from 'three/examples/jsm/loaders/STLLoader'\r\n\r\n//import { useHelper, Center } from '@react-three/drei'\r\n\r\n//extend({ OrbitControls })\r\n\r\nconst StlLoader = (url) => {\r\n  const model = useLoader(STLLoader, url)\r\n  return model\r\n}\r\n\r\n// const drawAxes = () => {\r\n//   return <primitive object={new THREE.AxesHelper(5)} />\r\n// }\r\n\r\n// const CameraControls = () => {\r\n//   const {\r\n//     camera,\r\n//     gl: { domElement },\r\n//   } = useThree()\r\n//   camera.up.set(0, 0, 1)\r\n\r\n//   // Ref to the controls, so that we can update them on every frame using useFrame\r\n//   const controls = useRef()\r\n\r\n//   useFrame((state) => controls.current.update())\r\n\r\n//   return (\r\n//     <orbitControls\r\n//       ref={controls}\r\n//       args={[camera, domElement]}\r\n//       enablePan={false}\r\n//     />\r\n//   )\r\n// }\r\n\r\nconst STL = ({ url }) => {\r\n  const material = new THREE.MeshPhongMaterial({\r\n    vertexColors: true,\r\n    shininess: 10,\r\n  })\r\n\r\n  const model = useMemo(() => StlLoader(url), [url])\r\n  model.center()\r\n\r\n  const ref = useRef()\r\n\r\n  const { camera } = useThree()\r\n\r\n  useEffect(() => {\r\n    const bbox = new THREE.Box3().setFromObject(ref.current)\r\n    const sphere = bbox.getBoundingSphere(new THREE.Sphere())\r\n    const { center, radius } = sphere\r\n\r\n    camera.position.copy(\r\n      center.clone().add(new THREE.Vector3(2.0 * radius, 0, 0))\r\n    )\r\n    camera.far = 500 * radius\r\n    camera.updateProjectionMatrix()\r\n  }, [camera, url])\r\n\r\n  return (\r\n    <>\r\n      {/* <CameraControls /> */}\r\n      {/* <drawAxes /> */}\r\n      <primitive object={new THREE.AxesHelper(15)} />\r\n      <mesh ref={ref} dispose={null}>\r\n        <primitive object={model} attach='geometry' />\r\n        <meshPhongMaterial color={0xe0740d} material={material} />\r\n      </mesh>\r\n\r\n      {/* <OrbitControls /> */}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default STL\r\n","import React, { Suspense, useRef } from 'react'\r\nimport { Canvas } from '@react-three/fiber'\r\nimport STL from './STL'\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\r\nimport { useThree, useFrame, extend } from '@react-three/fiber'\r\n\r\nextend({ OrbitControls })\r\n\r\nconst CameraControls = () => {\r\n  const {\r\n    camera,\r\n    gl: { domElement },\r\n  } = useThree()\r\n  camera.up.set(0, 0, 1)\r\n\r\n  // Ref to the controls, so that we can update them on every frame using useFrame\r\n  const controls = useRef()\r\n\r\n  useFrame((state) => controls.current.update())\r\n\r\n  return (\r\n    <orbitControls\r\n      ref={controls}\r\n      args={[camera, domElement]}\r\n      enablePan={false}\r\n    />\r\n  )\r\n}\r\n\r\nconst Viewer = ({ urlModel }) => {\r\n  return (\r\n    <Canvas>\r\n      <ambientLight intensity={0.2} />\r\n      <directionalLight intensity={0.6} position={[0, 30, 30]} color='white' />\r\n      <directionalLight\r\n        intensity={0.6}\r\n        position={[0, -30, -30]}\r\n        color='white'\r\n      />\r\n      <CameraControls />\r\n      <Suspense fallback={null}>\r\n        <STL url={urlModel} />\r\n      </Suspense>\r\n    </Canvas>\r\n  )\r\n}\r\n\r\nexport default Viewer\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Button, Card, Col, Row } from 'react-bootstrap'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport Viewer from '../components/Viewer'\r\nimport axios from 'axios'\r\n\r\nconst ModelScreen = () => {\r\n  const [model, setModel] = useState({})\r\n\r\n  const { id } = useParams()\r\n\r\n  useEffect(() => {\r\n    const fetchModel = async () => {\r\n      const { data } = await axios.get(`/api/models/${id}`)\r\n      setModel(data)\r\n    }\r\n    fetchModel()\r\n  }, [id])\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <Card.Header>\r\n          <Row>\r\n            <Col>\r\n              <Link to='/'>\r\n                <Button variant='secondary' size='sm'>\r\n                  Go Back\r\n                </Button>\r\n              </Link>\r\n            </Col>\r\n            <Col xs={5} className='text-center'>\r\n              <h5>{model.name}</h5>\r\n            </Col>\r\n            <Col className='text-right'>\r\n              <Link to='/'>\r\n                <Button variant='primary' size='sm'>\r\n                  Download\r\n                </Button>\r\n              </Link>\r\n            </Col>\r\n          </Row>\r\n        </Card.Header>\r\n        <Card.Body style={{ height: 500 }}>\r\n          <Viewer urlModel={model.url} />\r\n          {/* {model.url} */}\r\n        </Card.Body>\r\n      </Card>\r\n      {/* <Modal\r\n        show={showModel}\r\n        onHide={handleClose}\r\n        backdrop='static'\r\n        keyboard={false}\r\n        size='lg'\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{model.name}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body style={{ height: 500 }}>\r\n          <Viewer model={model} isControl='true' />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Link to='/'>\r\n            <Button variant='secondary'>Close</Button>\r\n          </Link>\r\n          <Button variant='primary'>Download</Button>\r\n        </Modal.Footer>\r\n      </Modal> */}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ModelScreen\r\n","import React, { useState } from 'react'\r\nimport {\r\n  Form,\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  InputGroup,\r\n  FormControl,\r\n} from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport Viewer from '../components/Viewer'\r\n\r\nconst UploadScreen = () => {\r\n  const [source, setSource] = useState(null)\r\n  const [isFile, setIsFile] = useState(false)\r\n  const [disable, setDisable] = useState(false)\r\n  const [name, setName] = useState(false)\r\n\r\n  const getUrlFile = (event) => {\r\n    if (event.target.files[0] !== '') {\r\n      setIsFile(true)\r\n      setDisable(true)\r\n      setSource(URL.createObjectURL(event.target.files[0]))\r\n    }\r\n  }\r\n\r\n  const getName = (event) => {\r\n    setName(true)\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Row>\r\n          <Col>\r\n            <Link to='/'>\r\n              <Button variant='secondary' size='sm'>\r\n                Go Back\r\n              </Button>\r\n            </Link>\r\n          </Col>\r\n          <Col xs='auto'>\r\n            <h5>Upload STL File</h5>\r\n          </Col>\r\n        </Row>\r\n      </Card.Header>\r\n      <Card.Body style={{ height: 300 }}>\r\n        {isFile && <Viewer urlModel={source} />}\r\n      </Card.Body>\r\n      <Card.Footer>\r\n        <Form.Group>\r\n          <Form.File accept='.stl' onChange={getUrlFile} />\r\n        </Form.Group>\r\n        <InputGroup size='sm' className='mb-3'>\r\n          <InputGroup.Prepend>\r\n            <InputGroup.Text id='inputGroup-sizing-sm'>\r\n              Name of the Model\r\n            </InputGroup.Text>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            aria-label='Small'\r\n            aria-describedby='inputGroup-sizing-sm'\r\n            onChange={getName}\r\n          />\r\n        </InputGroup>\r\n\r\n        {disable && name && (\r\n          <Link to='/'>\r\n            <Button variant='primary' size='sm' block>\r\n              Upload\r\n            </Button>\r\n          </Link>\r\n        )}\r\n      </Card.Footer>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default UploadScreen\r\n","import React from 'react'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport { Container } from 'react-bootstrap'\nimport Footer from './components/Footer'\nimport Header from './components/Header'\nimport HomeScreen from './screens/HomeScreen'\nimport ModelScreen from './screens/ModelScreen'\nimport UploadScreen from './screens/UploadScreen'\n\nconst App = () => {\n  return (\n    <Router>\n      <Header />\n      <main className='py-3'>\n        <Container>\n          <Route path='/' component={HomeScreen} exact />\n          <Route path='/model/:id' component={ModelScreen} />\n          <Route path='/upload' component={UploadScreen} />\n        </Container>\n      </main>\n      <Footer />\n    </Router>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './bootstrap.min.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}